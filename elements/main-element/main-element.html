<dom-module id="main-element">
  <style>
    .stream .list-item  {
      display: inline-block;
      width: 100%;
    }
    .header-profile {
      margin-top: 30px;
      vertical-align: middle;
      padding-right: 30px;
    }
    .header-profile p {
      margin-left: 10px;
      display: inline-block;
      font-size: 120%;
    }
    .header-profile * {
      vertical-align: middle;
    }
    paper-toolbar {
      height: 130px;
    }
    .circular {
      display: inline-block;
    	width: 60px;
    	height: 60px;
    	border-radius: 150px;
    	-webkit-border-radius: 150px;
    	-moz-border-radius: 150px;
    	background: url(/img/emma.jpg) no-repeat;
      background-position: center;
      background-size: cover;
    }
    .search {
      margin: auto;
      margin-top: 20px;
      margin-right: 0;
    }
  </style>
  <template>
    <paper-header-panel mode="waterfall">

      <paper-toolbar role="toolbar" elevation="1">

        <div class="middle header-profile" on-click="openMyProfile">
          <div class="circular"></div>
          <p>Clara Brambilla</p>
        </div>

        <paper-icon-button class='middle search' icon="search" on-click='goSearch'></paper-icon-button>

        <paper-tabs class="flex bottom horizontal self-end" alignBottom="true" role="tablist" selected="{{pageSelected}}">
          <paper-tab>Home</paper-tab>
          <paper-tab>La mia raccolta</paper-tab>
          <paper-tab>Notifiche</paper-tab>
        </paper-tabs>

      </paper-toolbar>

      <iron-pages selected="{{pageSelected}}" style='height: 100%'>

        <div id='home'>
          <home-element></home-element>
        </div>

        <div>
          <mystuffs-element></mystuffs-element>
        </div>

        <div>
          <notification-element></notification-element>
        </div>
      </iron-pages>
      <paper-toast id="removeBook" text="Libro eliminato." class="" aria-hidden="true"></paper-toast>
      <paper-toast id="removeList" text="Lista eliminata." class="" aria-hidden="true"></paper-toast>
      <paper-toast id="removeLibrary" text="Libreria eliminata." class="" aria-hidden="true"></paper-toast>
      <paper-toast id="removeLoan" text="Prestito eliminato." class="" aria-hidden="true"></paper-toast>
      <paper-toast id="archiveLoan" text="Prestito archiviato." class="" aria-hidden="true"></paper-toast>
    </paper-header-panel>
  </template>
</dom-module>

<script>

  Polymer({
    is: "main-element",

    // add properties and methods on the element's prototype

    properties: {
      // declare properties for the element's public API
      pageSelected: {
        type: String,
        value: "0"
      }
    },
    openMyProfile: function () {
      this.async(function () {
        page('/profile/me');
      }, 100);
    },
    goSearch: function() {
      this.async(function () {
        page('/search');
      }, 100);
    }
  });
</script>
